# 第四章-08-网络请求和下载

在Linux系统中，进行网络请求和文件下载是日常操作的重要组成部分。无论是获取软件包、下载远程文件，还是进行网络连通性测试，掌握这些命令都至关重要。

## 1. `ping` 命令：==测试网络连通性==

`ping` 命令用于测试主机之间网络的连通性。它通过发送ICMP回显请求包到目标主机，并监听回显回复来判断网络是否可达。

**基本用法：**
```bash
ping -c num /ip/主机名
```

**示例：**
```bash
ping www.baidu.com
ping 192.168.1.1
```

**常用选项：**
*   `-c count`: 指定发送的请求包数量。==也就是检查5次==
    `ping -c 5 www.google.com` (发送5个包后停止)
*   `-i interval`: 指定发送每个包的间隔秒数。
    `ping -i 0.5 192.168.1.1` (每0.5秒发送一个包)
*   `-s packetsize`: 指定数据包的大小。
    `ping -s 1000 www.example.com` (发送大小为1000字节的数据包)

## 2. `wget` 命令：==非交互式网络下载工具==

`wget` 是一个功能强大的非交互式网络下载工具，支持HTTP、HTTPS和FTP协议，可以在后台稳定下载文件，即使网络中断也能断点续传。

**基本用法：**
```bash
wget [选项] URL
```

**示例：**
```bash
wget https://example.com/file.zip
```

**常用选项：**
*   `-b`: ==后台下载==。
    `wget -b https://example.com/largefile.tar.gz`
*   `-c`: 断点续传。当下载中断后，使用此选项可以从中断处继续下载。
    `wget -c https://example.com/file.iso`
*   `-O file`: ==将下载的文件保存为指定名称==。
    `wget -O newname.pdf https://example.com/document.pdf`
*   `--limit-rate=amount`: 限制下载速度。
    `wget --limit-rate=200k https://example.com/video.mp4`
*   `-r`: 递归下载，用于下载整个网站（需谨慎使用）。
    `wget -r https://www.example.com/docs/`
*   `-P prefix`: ==将文件下载到指定目录。==
    `wget -P /home/user/downloads https://example.com/image.jpg`
    使用==tail -f wget-log:持续追踪文件下载==[tail](第四章-01-各类小技巧快捷键.md#^9986db)

## 3. `curl` 命令：==传输数据工具
==
`curl` 是一个非常通用的命令行工具，用于使用各种协议（HTTP, HTTPS, FTP, FTPS, GOPHER, DICT, FILE, TELNET, LDAP, LDAPS）传输数据。它不仅能下==载文件，还能上传数据、发送各种HTTP请求等，常用于API测试和数据抓取==。

**基本用法：**
```bash
curl [选项] URL
```

**示例：**
下载文件：
```bash
curl -O https://example.com/archive.tar.gz  # -O 使用远程文件名保存
curl -o localname.zip https://example.com/remote.zip # -o 保存为指定本地文件名
```

查看网页内容：
```bash
curl https://www.example.com
```

发送GET请求：
```bash
curl "https://api.example.com/data?param1=value1&param2=value2"
```

发送POST请求：
```bash
curl -X POST -H "Content-Type: application/json" -d '{"key": "value"}' https://api.example.com/submit
```

**常用选项：**
*   `-O`: 将远程文件保存为与远程服务器上相同的文件名。
*   `-o <file>`: 将远程文件保存为指定的文件名。
*   `-L`: 跟随HTTP重定向。
*   `-I`: 只显示HTTP头部信息。
    `curl -I https://www.example.com`
*   `-X <command>`: 指定HTTP请求方法（GET, POST, PUT, DELETE等）。
*   `-H <header>`: 添加自定义HTTP头。
*   `-d <data>`: 发送POST请求的数据。
*   `-u <user:password>`: 进行HTTP认证。

## 4. `scp` 命令：通过SSH安全复制文件

`scp` (secure copy) 命令用于在本地主机和远程主机之间，或在两台远程主机之间通过SSH协议安全地复制文件。它提供了加密的数据传输。

**基本用法：**
*   **本地到远程：**
    ```bash
    scp [选项] 源文件 远程用户@远程主机:目标路径
    ```
*   **远程到本地：**
    ```bash
    scp [选项] 远程用户@远程主机:源文件 目标路径
    ```

**示例：**
上传本地文件到远程服务器：
```bash
scp /path/to/local/file.txt user@remote.server.com:/path/to/remote/directory/
```

从远程服务器下载文件到本地：
```bash
scp user@remote.server.com:/path/to/remote/file.txt /path/to/local/directory/
```

**常用选项：**
*   `-r`: 递归复制整个目录。
    `scp -r /path/to/local/folder user@remote.server.com:/path/to/remote/parent/`
*   `-P port`: 指定远程主机的SSH端口。
    `scp -P 2222 localfile.txt user@remote.server.com:/remote/path/`
*   `-i identity_file`: 指定用于认证的私钥文件。
    `scp -i ~/.ssh/my_key /path/to/local/file.txt user@remote.server.com:/remote/path/`

掌握这些网络请求和下载命令，将大大提高你在Linux环境下处理网络相关任务的效率和能力。
