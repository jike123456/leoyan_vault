# 3.1 驱动 OLED 显示屏

## 1. 模块简介

江科大课程使用的是 **0.96 寸 I2C 接口 OLED 显示屏**（SSD1306 驱动芯片）。
*   **分辨率**：128 * 64 像素。
*   **引脚**：4 Pin (GND, VCC, SCL, SDA)。
*   **驱动方式**：虽然是 I2C 接口，但为了方便移植和教学，课程中通常使用 **GPIO 模拟 I2C** 的方式驱动，或者直接使用江科大封装好的 `OLED` 模块，无需深究底层协议即可显示内容。

## 2. 移植 OLED 驱动

将课程提供的 `OLED.c`, `OLED.h` 和 `OLED_Font.h` 添加到工程的 `System` 或 `Hardware` 组中。

*   **OLED_Font.h**：存放字模数据（6x8, 8x16 字符集）。
*   **OLED.c**：包含底层的引脚翻转函数和上层的绘图函数。

## 3. 常用函数说明

| 函数名 | 参数示例 | 说明 |
| :--- | :--- | :--- |
| `OLED_Init` | `()` | 初始化屏幕，**上电必须调用** |
| `OLED_Clear` | `()` | 清屏 |
| `OLED_ShowChar` | `(1, 1, 'A')` | 在第1行第1列显示字符 'A' |
| `OLED_ShowString`| `(1, 3, "Hello")`| 在第1行第3列显示字符串 |
| `OLED_ShowNum` | `(2, 1, 123, 3)` | 在第2行第1列显示数字 123，长度为3 |
| `OLED_ShowSignedNum` | `(2, 5, -66, 2)` | 显示有符号数字 |
| `OLED_ShowHexNum` | `(3, 1, 0xAA, 2)` | 以十六进制显示 |
| `OLED_ShowBinNum` | `(4, 1, 0xAA, 8)` | 以二进制显示 |

## 4. 调试利器

OLED 是嵌入式开发中最直观的调试手段。相比于串口打印（需要电脑配合），OLED 可以直接焊在板子上，实时显示变量数值、系统状态等。

**代码示例**：
```c
#include "stm32f10x.h"
#include "OLED.h"

int main(void)
{
    OLED_Init();
    
    OLED_ShowString(1, 1, "ID:");
    uint16_t id = 0;
    
    while (1)
    {
        OLED_ShowNum(1, 4, id, 5); // 动态刷新变量值
        id++;
        Delay_ms(100);
    }
}
```