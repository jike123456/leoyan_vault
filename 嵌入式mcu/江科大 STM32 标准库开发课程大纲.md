
---

### 江科大 STM32 标准库开发课程大纲

#### 第一章：搭建开发环境

**1.1 建立工程模板**

- 💡 理解 STM32 启动过程（启动文件、内核文件、库文件关系）。
    
- ⚙️ 安装 Keil5 MDK 及器件支持包。
    
- ⚙️ 配置工程架构（新建 Group，添加头文件路径 Include Path）。
    
- ⚠️ 注意 C/C++ 预处理宏定义 `USE_STDPERIPH_DRIVER,STM32F10X_MD` 的填写。
    

#### 第二章：控制通用输入输出 (GPIO)

**2.1 点亮 LED 二极管**

- 💡 理解 GPIO 八种工作模式（推挽/开漏输出、上拉/下拉/浮空输入等）。
    
- 💡 理解 RCC 时钟树（操作外设前必须先开启时钟）。
    
- ⚙️ 调用 `RCC_APB2PeriphClockCmd` 开启时钟。
    
- ⚙️ 初始化 GPIO 结构体（设置 Pin, Mode, Speed）。
    
- ⚙️ 操作 GPIO 输出函数 (`GPIO_SetBits`, `GPIO_ResetBits`).
    

**2.2 读取按键输入**

- 💡 理解按键抖动原理及硬件/软件消抖。
    
- ⚙️ 读取 GPIO 输入数据 (`GPIO_ReadInputDataBit`).
    
- ⚠️ 注意输入模式下的上下拉电阻配置需与硬件电路匹配。
    

#### 第三章：调试显示接口

**3.1 驱动 OLED 显示屏**

- 💡 理解 OLED 屏幕像素点阵概念。
    
- ⚙️ 移植 OLED 驱动库文件（江科大提供的底层驱动）。
    
- ⚙️ 调用显示函数（`ShowChar`, `ShowString`, `ShowNum`）进行调试输出。
    

#### 第四章：处理中断系统 (Interrupt)

**4.1 配置外部中断 (EXTI)**

- 💡 理解 NVIC 嵌套向量中断控制器（优先级分组、抢占优先级、响应优先级）3。
    
- 💡 理解 AFIO 复用功能 IO 的作用（中断引脚重映射）。
    
- ⚙️ 配置 EXTI 线路与 GPIO 的映射关系。
    
- ⚙️ 编写中断服务函数 (`IRQHandler`)。
    
- ⚠️ 注意中断函数名必须与启动文件中的向量表一致，不可自定义。
    

#### 第五章：应用定时器 (TIM)

**5.1 设置定时中断**

- 💡 理解定时器时基单元（预分频器 PSC, 自动重装寄存器 ARR, 计数器 CNT）。
    
- ⚙️ 计算定时频率公式：`Freq = CK_PSC / (PSC+1) / (ARR+1)`。
    

**5.2 输出 PWM 波形 (呼吸灯/舵机)**

- 💡 理解 PWM 占空比与频率概念。
    
- 💡 理解 OC 输出比较单元工作原理。
    
- ⚙️ 配置 OC 结构体及通道（PWM模式1/2，极性）。
    
- ⚙️ 动态修改 CCR 寄存器值以改变占空比 (`TIM_SetCompare1`).
    

**5.3 捕获输入信号 (IC)**

- 💡 理解 IC 输入捕获单元原理（测频法 vs 测周法）。
    
- ⚙️ 配置主从触发模式（实现硬件自动复位计数器）。
    
- ⚙️ 读取 CCR 值计算输入信号频率及占空比。
    

#### 第六章：模数转换 (ADC) & 直接存储器访问 (DMA)

**6.1 采集模拟信号 (AD单/多通道)**

- 💡 理解 ADC 逐次逼近型工作原理及分辨率（12位）。
    
- 💡 理解规则组与注入组的区别。
    
- ⚙️ 配置 ADC 采样时间与触发源。
    
- ⚙️ 校准 ADC (`ADC_ResetCalibration`, `ADC_StartCalibration`).
    

**6.2 搬运数据 (DMA)**

- 💡 理解 DMA 数据转运原理（不占用 CPU 资源）4。
    
- ⚙️ 配置 DMA 源地址与目的地址（外设到存储器 / 存储器到存储器）。
    
- ⚙️ 结合 `ADC + DMA` 实现多通道连续扫描转换。
    

#### 第七章：通信协议 (Communication)

**7.1 实现串口通信 (UART)**

- 💡 理解 TTL 电平与 RS232 电平区别。
    
- 💡 理解波特率、停止位、校验位概念 5。
    
- ⚙️ 发送数据：重定向 `printf` 函数至串口。
    
- ⚙️ 接收数据：配置 RXNE 中断或轮询读取标志位。
    
- ⚙️ 封装数据包（实现简单的“包头-载荷-包尾”协议）。
    

**7.2 模拟 I2C 通信 (MPU6050)**

- 💡 理解 I2C 物理层（SCL, SDA, 开漏输出+上拉电阻）6。
    
- 💡 理解 I2C 时序（起始条件, 终止条件, 应答位）。
    
- ⚙️ 编写软件模拟 I2C 时序函数（`I2C_Start`, `I2C_SendByte` 等）。
    
- ⚙️ 读写 MPU6050 寄存器获取姿态数据。
    

**7.3 模拟 SPI 通信 (W25Q64)**

- 💡 理解 SPI 四线全双工通信（SCK, MOSI, MISO, CS）7。
    
- 💡 理解 SPI 模式0-3（时钟极性 CPOL 与相位 CPHA）。
    
- ⚙️ 编写软件模拟 SPI 交换字节函数。
    
- ⚙️ 操作 Flash 存储器（写使能, 扇区擦除, 页编程, 读数据）。
    
- ⚠️ 注意 Flash 写入前必须先擦除，且只能按页写入。