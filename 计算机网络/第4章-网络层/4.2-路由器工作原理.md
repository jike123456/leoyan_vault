# 路由器工作原理

- **路由器体系结构**
  - **输入端口 (Input Ports)**: 执行物理层、链路层和网络层功能。
  - **交换结构 (Switching Fabric)**: 将分组从输入端口连接到输出端口。
    - 基于内存的交换
    - 基于总线的交换
    - 基于互联网络的交换
  - **输出端口 (Output Ports)**: 存储从交换结构接收的分组，并通过链路层和物理层功能将其发送出去。
  - **路由选择处理器 (Routing Processor)**: 执行控制平面功能，运行路由选择协议。
- **输入端口排队**
  - 当交换结构的处理速度跟不上输入端口的接收速度时发生。
  - **线路前部 (Head-of-the-Line, HOL) 阻塞**: 一个输入队列中排在前面的分组因等待输出端口而阻塞了后面可以被发送到其他空闲输出端口的分组。
- **输出端口排队**
  - 当从交换结构到达的分组速度超过输出链路的发送速度时发生。
  - 缓冲区管理和分组调度策略。
