# 第4章 网络层 (The Network Layer)

网络层负责将分组从一台发送主机移动到一台接收主机。本章将探讨数据如何通过路由器在网络中进行转发和路由。

## 核心内容

*   **网络层概述**
    *   转发 (Forwarding) 和路由 (Routing) 的概念。
    *   数据平面 (Data Plane) 和控制平面 (Control Plane) 的分离。
    *   网络服务模型。
*   **路由器工作原理**
    *   输入端口、交换结构、输出端口。
    *   输入端口排队。
*   **网际协议：IPv4, IPv6 及其他**
    *   IPv4数据报格式。
    *   IPv4分片与重组。
    *   IPv4编址：子网划分、CIDR (无类域间路由)。
    *   DHCP (Dynamic Host Configuration Protocol)：动态主机配置协议。
    *   NAT (Network Address Translation)：网络地址转换。
    *   IPv6：动机、数据报格式、与IPv4的转换。
*   **通用转发和SDN**
    *   通用流表转发。
    *   SDN (Software-Defined Networking)：软件定义网络。
*   **路由算法**
    *   链路状态 (Link-State, LS) 路由算法，如Dijkstra算法。
    *   距离向量 (Distance-Vector, DV) 路由算法。
    *   层次路由。
*   **因特网中的路由**
    *   自治系统 (Autonomous Systems, AS)。
    *   内部网关协议 (Interior Gateway Protocols, IGP)：RIP, OSPF。
    *   外部网关协议 (Exterior Gateway Protocols, EGP)：BGP (Border Gateway Protocol)。
*   **广播和多播路由**

本章揭示了数据包在互联网这个巨大的网络迷宫中如何找到路径并被正确转发的核心机制，是理解互联网全局通信的关键。
