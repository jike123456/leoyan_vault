# 3.6 [串口]接收数据

## 主要内容
学习串口接收数据的两种方式：查询法和中断法。

### 查询法
在主循环中不断检查 `RXNE` 标志位。
```c
if (USART_GetFlagStatus(USART1, USART_FLAG_RXNE) == SET) {
    uint8_t RxData = USART_ReceiveData(USART1);
    // 处理数据
}
```
*缺点*：占用 CPU，实时性差。

### 中断法 (推荐)
1.  **配置 NVIC**：使能 USART1 中断通道。
2.  **开启 USART 中断**：`USART_ITConfig(USART1, USART_IT_RXNE, ENABLE);`
3.  **编写中断服务函数**：
```c
void USART1_IRQHandler(void) {
    if (USART_GetITStatus(USART1, USART_IT_RXNE) == SET) {
        uint8_t RxData = USART_ReceiveData(USART1); // 读取数据会自动清除标志位
        // 处理数据
        USART_ClearITPendingBit(USART1, USART_IT_RXNE);
    }
}
```
