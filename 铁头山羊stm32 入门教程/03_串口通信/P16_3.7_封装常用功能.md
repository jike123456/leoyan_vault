# 3.7 [串口]封装常用功能

## 主要内容
将串口的初始化、发送、接收功能封装成 `.c` 和 `.h` 文件，形成一个通用的 Serial 模块。

### 模块化编程
*   **Serial.h**: 声明 `Serial_Init()`, `Serial_SendByte()`, `Serial_Printf()` 等函数。
*   **Serial.c**: 实现上述函数。定义静态全局变量存储接收到的数据包 (如果需要处理数据包)。

### 数据包处理 (状态机)
简单的数据包协议，例如 `@Msg\r\n` (起始符@, 结束符\r\n)。
可以使用状态机处理接收中断：
*   State 0: 等待 '@'。
*   State 1: 接收数据，直到收到 '\r'。
*   State 2: 收到 '\r'，等待 '\n'。
*   State 3: 收到 '\n'，置位“接收完成”标志。
