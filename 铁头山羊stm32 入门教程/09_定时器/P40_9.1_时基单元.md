# 9.1 [定时器]时基单元

## 主要内容
定时器的核心计数功能。

### 定时器分类
*   **基本定时器 (TIM6, TIM7)**：只有累加计数，用于延时、DAC 触发。
*   **通用定时器 (TIM2~5)**：支持输入捕获、输出比较、PWM、编码器接口。
*   **高级定时器 (TIM1, TIM8)**：增加死区控制、互补输出 (电机控制)。

### 时基单元 (Time Base)
1.  **CNT (Counter)**：计数器，0~65535。
2.  **PSC (Prescaler)**：预分频器。对输入时钟 (72MHz) 进行分频。
    *   实际频率 = $CK\_PSC / (PSC + 1)$。
3.  **ARR (Auto Reload Register)**：自动重装寄存器。计数到 ARR 时溢出 (Update)，清零重新计数。

### 定时频率计算
$$Freq = \frac{72M}{(PSC+1) * (ARR+1)}$$
*例*：要产生 1Hz 中断 (1s)。
*   PSC = 7199 (7200分频 -> 10kHz)
*   ARR = 9999 (10000计数 -> 1Hz)
