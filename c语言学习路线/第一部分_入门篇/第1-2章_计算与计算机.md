# 第1-2章：计算与计算机

## 1. 第一个 C 程序 (Hello World)

这是所有编程语言的起点，也是验证开发环境是否配置正确的标准步骤。

```c
#include <stdio.h> // 引入标准输入输出库

int main() {
    printf("Hello, World!\n"); // \n 表示换行
    return 0; // 返回 0 表示程序正常结束
}
```

### 关键点解析
- **`#include <stdio.h>`**: 告诉编译器我们要使用==标准输入输出==功能（如 `printf`）。
- **`int main()`**: 程序的入口。嵌入式系统中 `main` 函数通常不会返回（会进入死循环），但在宿主机（PC）学习时，标准写法是返回 `int`。
## 程序框架
```c
#include <stdio.h> // 引入标准输入输出库

int main() {
    return 0; // 返回 0 表示程序正常结束
}
```
## 2. 变量定义与初始化
定义变量==类型 名称==；例如 `int count;`
两者都是必须的，名称不能是关键词，例如 `for`。
### 为什么必须初始化？
==int count = 0;==
在 C 语言中，定义一个局部变量时，系统**不会**自动将其清零。==它里面的值是该内存地址上原本残留的“垃圾值”==。

```c
#include <stdio.h>

int main() {
    int count; // 未初始化，值是未知的（随机的）
    int index = 0; // 初始化为 0，安全

    // 错误示范：直接使用未初始化的变量
    // 在嵌入式系统中，这可能导致开关随机误触、逻辑判断错误
    printf("Count value: %d\n", count); 
    
    return 0;
}
```

**嵌入式警示**：在单片机中，上电复位后内存状态可能是不确定的。如果依据==未初始化的变量去控制硬件==（如电机、继电器），可能会造成严重事故。

## 3. 基本运算与表达式

- **算术运算符**：`+`, `-`, `*`, `/` (整除), `%` (取模/求余)。
- **注意整数除法**：`5 / 2` 的结果是 `2`，而不是 `2.5`。如果要得到小数，必须写成 `5.0 / 2`。
- ==%d 的妙用==
```c
#include <stdio.h>
int main()
{
    printf("12+28=%d", 12+28);
    return 0;
}
```

## 4. 输入输出 (IO)

### printf 常用占位符
| 占位符         | 类型           | 说明                  |
| :---------- | :----------- | :------------------ |
| `%d`        | int          | 十进制整数               |
| `%f`        | float/double | 浮点数 (默认6位小数)        |
| `%c`        | char         | 单个字符                |
| `%s`        | char*        | 字符串                 |
| `%x` / `%X` | int          | **十六进制** (嵌入式调试最常用) |
| `%p`        | void*        | 指针/内存地址             |

### scanf 的陷阱
`scanf` ==用于读取用户输入，但新手常犯错误是忘记加 `&`==（取地址符）。

```c
int age;
scanf("%d", &age); // 正确：传入 age 的地址
// scanf("%d", age); // 错误！会导致程序崩溃
```

---

## 5. 常量 vs 变量 (Constants vs Variables)

### 变量 (Variable)
值可以改变的量。
```c
int price = 100;
price = 200; // 合法，修改变量的值
```

### 常量 (Constant)
值固定不变的量。==使用常量可以增加代码的可读性==，避免“魔术数字” (Magic Numbers)。

==**定义方式 1：const 关键字**==
```c
const int AMOUNT = 100;
// AMOUNT = 200; // 错误！常量不能被修改
```
**定义方式 2：宏定义 (#define)**
```c
#define PI 3.14159
```

**推荐**：优先使用 `const`，因为它有类型检查。

## 6. 浮点数 (Floating Point Numbers)

C 语言中浮点数主要有两种：`float` (单精度) 和 `double` (双精度)。

- **精度**：`float` ==有效数字约 7 位，`double` 约== 15 位。
- **输入输出**：
    - `printf`: 无论是 float 还是 double，都可以用 `%f` (C99 标准)。
    - `scanf`: **必须严格区分**。
        - `float` 使用 `%f`
        - `double` 使用 `%lf` (long float)

```c
double height;
scanf("%lf", &height); // 输入必须用 %lf
printf("Height is %f\n", height);
```

## 7. 表达式与运算符优先级

### 表达式 (Expression)
由==运算符和算子A==组成，最终会计算出一个值。
例如：`a + b`、`count = 5` (赋值也是表达式，值为 5)。
![200](assets/第1-2章_计算与计算机/file-20251219161055681.png)
### ==运算符优先级==
决定了表达式运算的顺序。例如 `2 + 3 * 4` 是先算乘法。

**记忆口诀 (从高到低)**：
1.  **括号 `()`**：优先级最高，拿不准就加括号。
2.  **单目运算符**：`++`, `--`, `!`, `&`(取地址)。
3.  **算术运算符**：`* / %` 高于 `+ -`。
4.  **关系运算符**：`> < >=` 高于 `== !=`。
5.  **赋值运算符**：`=` 优先级极低，最后才赋值。

## 8. 交换变量 (Swapping Variables)

这是编程中最基础的算法之一。

**场景**：有两杯水 a 和 b，想交换里面的水。
**方法**：你需要第三个空杯子 t。

```c
int a = 5;
int b = 6;
int t;

t = a; // 把 a 的水倒进 t
a = b; // 把 b 的水倒进 a
b = t; // 把 t 的水 (原本的 a) 倒进 b
```

## 9. 复合赋值和递增递减

### 复合赋值
简化代码的写法。
- `a += 5` 等价于 `a = a + 5`
- `a *= 2` 等价于 `a = a * 2`

### 递增递减 (++ / --)
- `i++` (后缀)：先使用 i 的值，再 +1。
- `++i` (前缀)：先 +1，再使用 i 的值。

```c
int a = 10;
int b = a++; // b=10, a=11
int c = ++a; // a=12, c=12
```

## 10. 如何使用 PAT 系统来做编程练习题

PAT (Programming Ability Test) 是浙江大学开发的在线判题系统 (Online Judge, OJ)。

**步骤**：
1.  **读题**：仔细阅读题目描述，特别是**输入格式**和**输出格式**。
2.  **编写代码**：在本地 IDE 编写并测试样例。
3.  **提交**：将代码复制到 PAT 提交框。
4.  **查看结果**：
    - **AC (Accepted)**：通过。
    - **WA (Wrong Answer)**：答案错误，通常是边界条件没考虑。
    - **PE (Presentation Error)**：格式错误，多输出了空格或换行。
    - **TLE (Time Limit Exceeded)**：超时，算法太慢或死循环。

## 11. PAT 再解释 (Online Judge 的严苛性)

**机器判题是极其死板的**。
- **不能有提示语**：题目没让你输出 "Please input a number:"，你就绝对不能输出，否则直接判错。
- **空格和换行**：输出 `1, 2` 和 `1,2` 是不同的。如果题目要求行末不能有空格，你多输出一个空格就是 PE 或 WA。
- **范围限制**：注意题目中变量的范围（如 $10^9$），这时用 `int` 可能会溢出，必须用 `long long`。

```