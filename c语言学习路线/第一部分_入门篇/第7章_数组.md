# 第7章：数组

## 1. 数组定义与初始化

数组是相同类型数据的集合，在内存中是**连续存放**的。

```c
int arr[5]; // 定义一个包含 5 个整数的数组
int scores[3] = {90, 80, 70}; // 初始化
int data[] = {1, 2, 3}; // 编译器自动推断长度为 3
```

## 2. 访问数组

通过下标访问，下标从 **0** 开始。
- 第一个元素：`arr[0]`
- 最后一个元素：`arr[4]` (对于长度为 5 的数组)

```c
// 遍历数组
for (int i = 0; i < 5; i++) {
    printf("%d ", arr[i]);
}
```

## 3. 越界检查 (Out of bounds) —— 严重隐患

**C 语言不做数组下标越界检查！**
如果你写了 `arr[10] = 5;` (而数组只有 5 个)，编译器可能不会报错，但程序运行时会改写内存中其他重要数据。

**在嵌入式中：**
越界访问可能改写了相邻的变量、函数返回地址，甚至修改了硬件寄存器的配置，导致系统跑飞或莫名其妙的 Bug。

## 4. 多维数组

```c
int matrix[3][4]; // 3行4列
// 内存排列：[0][0], [0][1], [0][2], [0][3], [1][0]...
// 它是按“行”连续存储的。
```

## 5. 数组大小计算技巧

```c
int arr[] = {10, 20, 30, 40, 50};
int len = sizeof(arr) / sizeof(arr[0]); 
// 总字节数 / 单个元素字节数 = 元素个数
// 这种写法非常稳健，修改数组内容不需要改代码里的长度值。
```
